{% extends 'base.html' %}

{% block head %}
<h1 align="center">Update Note</h1>
<link rel="stylesheet" href="{{ url_for('static', filename='update_note.css') }}">
{% endblock %}

{% block body %}
{% with messages = get_flashed_messages() %}
  {% if messages %}
    <ul class="flashes">
      {% for msg in messages %}
        <li style="color: green; font-weight: bold;">{{ msg }}</li>
      {% endfor %}
    </ul>
  {% endif %}
{% endwith %}

<form action="{{ url_for('update_note', note_id=note.id) }}" method="POST" enctype="multipart/form-data" style="max-width: 500px; margin: 0 auto;">
  <label for="title">Title:</label><br>
  <input type="text" id="title" name="title" value="{{ note.title }}" required ><br><br>
  <label for="file">Update File (optional):</label><br>
  <input type="file" id="file" name="file" accept=".pdf,.doc,.docx,.jpg,.png"><br>
  {% if note.filename %}
    <p>Current file: <a href="{{ url_for('uploaded_file', filename=note.filename) }}" target="_blank">{{ note.filename }}</a></p>
  {% endif %}
  <button type="submit" style="background-color: green; color: white; border: none; padding: 10px 16px; border-radius: 6px;">Update Note</button>
</form>

<br>
<a href="{{ url_for('view_class', class_id=note.class_id) }}" style="display:block; text-align:center;">Back to Class</a>
{% endblock %}
